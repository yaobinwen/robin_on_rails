<!DOCTYPE html>
<!--[if IE 8]><html lang="en" dir="ltr" class="ie8"><![endif]-->
<!--[if IE 9]><html lang="en" dir="ltr" class="ie9"><![endif]-->
<!--[if gt IE 9]><!-->
<html dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions" style="--publisher-color: rgb(0,102,204); --publisher-color-safe: rgb(0,102,204);" lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        
        html {
            overflow: hidden;
        }
        

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script src="a_data_003/cbgapi.loaded_0" async=""></script><script src="a_data_003/sdk_002.js" async="" crossorigin="anonymous"></script><script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="a_data_003/lounge_002.js"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="a_data_003/lounge.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="a_data_003/lounge.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="a_data_003/config.js"></script><style id="css_1666714857758"></style><!-- base href="https://disqus.com/embed/comments/?base=default&f=red-hat-developers-blog&t_i=245521&t_u=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F10%2F22%2Fintroduction-to-linux-interfaces-for-virtual-networking&t_d=Introduction%20to%20Linux%20interfaces%20for%20virtual%20networking%0A&t_t=Introduction%20to%20Linux%20interfaces%20for%20virtual%20networking%0A&s_o=default" --><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="fb" src="a_data_003/sdk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="gapi" src="a_data_003/api.js" gapi_processed="true"></script><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://connect.facebook.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://connect.facebook.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://connect.facebook.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://connect.facebook.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style></head>
<body class="sans-serif">
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"canReply":true,"mustVerify":false,"recaptchaPublicKey":"6Lfx6u0SAAAAAI1QkeTW397iQv1MsBfbDaYlwxK_","mustVerifyEmail":false},"forum":{"aetBannerConfirmation":null,"founder":"353501534","twitterName":null,"commentsLinkOne":"1 Comment","guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/red-hat-developers-blog.jpg","cache":"//a.disquscdn.com/1666200926/images/favicon-default.png"},"commentsLinkZero":"0 Comments","disableDisqusBranding":false,"id":"red-hat-developers-blog","createdAt":"2017-09-12T09:17:30.708382","category":"Tech","aetBannerEnabled":false,"aetBannerTitle":null,"raw_guidelines":null,"initialCommentCount":null,"votingType":null,"daysUnapproveNewUsers":null,"installCompleted":false,"moderatorBadgeText":"Mod","commentPolicyText":"Please keep your comments relevant and polite. Opinions shared in comments are not official Red Hat news or policy.","aetEnabled":false,"channel":null,"sort":4,"description":"\u003cp>Developer tutorials and Red Hat software for cloud application development. \u003c/p>","newPolicy":true,"raw_description":"Developer tutorials and Red Hat software for cloud application development. ","customFont":null,"language":"en","adsReviewStatus":2,"commentsPlaceholderTextEmpty":null,"daysAlive":0,"forumCategory":{"date_added":"2016-01-28T01:54:31","id":8,"name":"Tech"},"colorScheme":"auto","pk":"5264065","commentsPlaceholderTextPopulated":null,"permissions":{},"commentPolicyLink":"https://developers.redhat.com/comment-policy/","aetBannerDescription":null,"name":"Red Hat Developer","commentsLinkMultiple":"{num} Comments","settings":{"threadRatingsEnabled":false,"adsDRNativeEnabled":false,"behindClickEnabled":false,"disable3rdPartyTrackers":true,"adsVideoEnabled":false,"adsProductVideoEnabled":false,"adsPositionTopEnabled":false,"ssoRequired":false,"unapproveLinks":true,"adsPositionRecommendationsEnabled":false,"linkAffiliationEnabled":false,"adsProductLinksThumbnailsEnabled":false,"hasCustomAvatar":true,"organicDiscoveryEnabled":false,"adsProductDisplayEnabled":false,"adsProductLinksEnabled":false,"audienceSyncEnabled":false,"threadReactionsEnabled":true,"adsEnabled":false,"disableSocialShare":false,"allowAnonPost":true,"adsProductStoriesEnabled":false,"adultContent":false,"allowAnonVotes":false,"gifPickerEnabled":true,"mustVerify":true,"badgesEnabled":false,"mustVerifyEmail":true,"unapproveNewUsersEnabled":false,"mediaembedEnabled":true,"userIdentityDisabled":false,"adsPositionBottomEnabled":false,"discoveryLocked":false,"validateAllPosts":false,"adsSettingsLocked":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":4286772,"typeface":"auto","url":"https://developers.redhat.com/","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/red-hat-developers-blog.jpg?size=32","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar32.jpg?1520522275"},"large":{"permalink":"https://disqus.com/api/forums/avatars/red-hat-developers-blog.jpg?size=92","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275"}},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fdevelopers.redhat.com%2F&key=n_ZBi1ymOVuL9XUthTSifg"}}</script>

    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":9,"hasNext":false,"next":"1:0:0"},"code":0,"response":{"lastModified":1666381740,"posts":[{"editableUntil":"2019-03-03T02:26:54","dislikes":0,"thread":"6988402202","numReports":0,"likes":2,"message":"\u003cp>\u003ccode># ip link add macv1 link eth0 type macvlan mode bridge\u003cbr># ip link add macv2 link eth0 type macvlan mode bridge\u003cbr># ip netns add net1\u003cbr># ip netns add net2\u003cbr># ip link set macvlan1 netns net1\u003cbr># ip link set macvlan2 netns net2\u003c/code>\u003cbr>Here macvlan1 and 2 should be macv1 and 2\u003c/p>","id":"4351559568","createdAt":"2019-02-24T02:26:54","author":{"username":"igorcicimov","about":"","name":"Igor Cicimov","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-07-22T01:24:08","profileUrl":"https://disqus.com/by/igorcicimov/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"166335090","avatar":{"permalink":"https://disqus.com/api/users/avatars/igorcicimov.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/igorcicimov.jpg","cache":"https://c.disquscdn.com/uploads/users/16633/5090/avatar200.jpg?1658380533"},"cache":"https://c.disquscdn.com/uploads/users/16633/5090/avatar92.jpg?1658380533","large":{"permalink":"https://disqus.com/api/users/avatars/igorcicimov.jpg","cache":"https://c.disquscdn.com/uploads/users/16633/5090/avatar92.jpg?1658380533"},"small":{"permalink":"https://disqus.com/api/users/avatars/igorcicimov.jpg","cache":"https://c.disquscdn.com/uploads/users/16633/5090/avatar32.jpg?1658380533"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"\u003ccode># ip link add macv1 link eth0 type macvlan mode bridge\n# ip link add macv2 link eth0 type macvlan mode bridge\n# ip netns add net1\n# ip netns add net2\n# ip link set macvlan1 netns net1\n# ip link set macvlan2 netns net2\u003c/code>\nHere macvlan1 and 2 should be macv1 and 2","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":2,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-01-13T08:27:44","dislikes":0,"thread":"6988402202","numReports":0,"likes":1,"message":"\u003cp>#by using \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Ftcler%2Fkiss-vm-ns%2Fblob%2Fmaster%2Fkiss-netns%3A5vTWwCJIvW5k42GiqQtWJdD-qHo&amp;cuid=5264065\" rel=\"nofollow noopener\" title=\"https://github.com/tcler/kiss-vm-ns/blob/master/kiss-netns\">https://github.com/tcler/ki...\u003c/a>\u003cbr>netns  net1,macv1,192.168.0.11   net2,macv2,192.168.0.22\u003c/p>","id":"4746772086","createdAt":"2020-01-06T08:27:44","author":{"username":"tcler","about":"","name":"Jianhong","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2015-11-13T11:08:52","profileUrl":"https://disqus.com/by/tcler/","url":"https://tcler.github.io","location":"","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Ftcler.github.io&key=GXrnEqjOc5QqBzUsv-klZA","isPrimary":true,"isAnonymous":false,"id":"182633434","avatar":{"permalink":"https://disqus.com/api/users/avatars/tcler.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/tcler.jpg","cache":"https://c.disquscdn.com/uploads/users/18263/3434/avatar128.jpg?1447413263"},"cache":"https://c.disquscdn.com/uploads/users/18263/3434/avatar92.jpg?1447413263","large":{"permalink":"https://disqus.com/api/users/avatars/tcler.jpg","cache":"https://c.disquscdn.com/uploads/users/18263/3434/avatar92.jpg?1447413263"},"small":{"permalink":"https://disqus.com/api/users/avatars/tcler.jpg","cache":"https://c.disquscdn.com/uploads/users/18263/3434/avatar32.jpg?1447413263"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4351559568,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"#by using https://github.com/tcler/kiss-vm-ns/blob/master/kiss-netns\nnetns  net1,macv1,192.168.0.11   net2,macv2,192.168.0.22","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":1,"points":1,"moderationLabels":["links"],"isEdited":false,"sb":false},{"editableUntil":"2019-02-18T10:56:03","dislikes":0,"thread":"6988402202","numReports":0,"likes":2,"message":"\u003cp>Excellent article covering more Linux virtual networking than I knew ;-)\u003c/p>","id":"4332016456","createdAt":"2019-02-11T10:56:03","author":{"username":"terrywang","about":"","name":"terrywang","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2009-01-08T06:45:00","profileUrl":"https://disqus.com/by/terrywang/","url":"https://terry.im","location":"Sydney, Australia","isPrivate":false,"signedUrl":"https://disq.us/?url=https%3A%2F%2Fterry.im&key=wccQ2D_yzogsvN6oe21Aiw","isPrimary":true,"isAnonymous":false,"id":"183251","avatar":{"permalink":"https://disqus.com/api/users/avatars/terrywang.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/terrywang.jpg","cache":"https://c.disquscdn.com/uploads/users/18/3251/avatar128.jpg?1455597103"},"cache":"https://c.disquscdn.com/uploads/users/18/3251/avatar92.jpg?1455597103","large":{"permalink":"https://disqus.com/api/users/avatars/terrywang.jpg","cache":"https://c.disquscdn.com/uploads/users/18/3251/avatar92.jpg?1455597103"},"small":{"permalink":"https://disqus.com/api/users/avatars/terrywang.jpg","cache":"https://c.disquscdn.com/uploads/users/18/3251/avatar32.jpg?1455597103"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Excellent article covering more Linux virtual networking than I knew ;-)","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":2,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2021-09-03T21:23:42","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cblockquote>\u003cbr> For example, a team supports LACP load-balancing, NS/NA (IPV6) link \u003cbr>monitoring, D-Bus interface, etc., which are absent in bonding\u003cbr>\u003c/blockquote>\u003cp>\u003c/p>\u003cp>This is flat out incorrect. Bonded interfaces most certainly \u003cb>do\u003c/b> support LACP bonding, even as per the source you reference.\u003c/p>","id":"5511933151","createdAt":"2021-08-27T21:23:42","author":{"username":"patrickgoetz","about":"","name":"Patrick Goetz","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-06-27T10:33:11","profileUrl":"https://disqus.com/by/patrickgoetz/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"59337982","avatar":{"small":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar32.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar32.jpg?1520522275"},"large":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275"},"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","xlarge":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar128.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar128.jpg?1520522275"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"\u003cblockquote>\n For example, a team supports LACP load-balancing, NS/NA (IPV6) link \nmonitoring, D-Bus interface, etc., which are absent in bonding\n\u003c/blockquote>\n\nThis is flat out incorrect. Bonded interfaces most certainly \u003cb>do\u003c/b> support LACP bonding, even as per the source you reference.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2021-07-28T14:16:47","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cp>Awesome!\u003c/p>","id":"5463954850","createdAt":"2021-07-21T14:16:47","author":{"username":"disqus_yIziIeFGIO","about":"","name":"hev","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2014-11-26T15:18:50","profileUrl":"https://disqus.com/by/disqus_yIziIeFGIO/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"133328816","avatar":{"permalink":"https://disqus.com/api/users/avatars/disqus_yIziIeFGIO.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/disqus_yIziIeFGIO.jpg","cache":"https://c.disquscdn.com/uploads/users/13332/8816/avatar128.jpg?1626877008"},"cache":"https://c.disquscdn.com/uploads/users/13332/8816/avatar92.jpg?1626877008","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_yIziIeFGIO.jpg","cache":"https://c.disquscdn.com/uploads/users/13332/8816/avatar92.jpg?1626877008"},"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_yIziIeFGIO.jpg","cache":"https://c.disquscdn.com/uploads/users/13332/8816/avatar32.jpg?1626877008"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Awesome!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2021-01-14T03:52:16","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cp>Awesome article! \u003cbr>I am having issues setting up a set of VLANs on my machine.\u003c/p>\u003cp>\u003cb>DESCRIPTION:\u003c/b>\u003cbr>I have setup two Virtual LAN (VLAN) interfaces (ens35u1.101 and ens35u1.102) off of a parent Physical Ethernet Interface (ens35u1).  The physical Interface ens35u1 is connected to a Trunk port of a Layer 2 switch, see diagram below. \u003cbr> \u003ca href=\"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg\">https://uploads.disquscdn.c...\u003c/a>\u003c/p>\u003cp>I verified that the egress packets from each VLAN interface are tagged with the appropriate VLAN tags and sent on the Trunk to the Layer 2 Switch:\u003c/p>\u003cp>     o\tens35u1.101  is setup to tag egress packets with a VLAN tag = 101\u003cbr>     o\tens35u1.102  is setup to tag egress packets with a VLAN tag = 102\u003c/p>\u003cp>I would expect the following operation for ingress packets to the VLAN interfaces. \u003cbr>     o\tens35u1.101  will filter ingress packets for a VLAN tag = 101 and ignore all other packets different VLAN tags\u003cbr>    o\tens35u1.102  will filter ingress packets for a VLAN tag = 102 and ignore all other packets different VLAN tags.\u003c/p>\u003cp>\u003cb>PROBLEM:\u003c/b>\u003cbr>The actual operation for ingress packets us they are handled by both interfaces regardless of the VLAN Tag. They do not appear to filter out VLAN tags that don\u2019t match their particular configuration. In other words:\u003c/p>\u003cp>1) if the Centos machine receives a packet with a VLAN tag = 101 from the Switch it is being handled by both VLAN interfaces (ens35u1.101 and ens35u1.102). Again, I would think that only ens35u1.101 should handle it, and ens35u1.102 would ignore it since it doesn\u2019t match the VLAN tag of that interface.\u003c/p>\u003cp>2) The same happens if the Centos machine receives a packet with a VLAN tag = 102 from the Switch,  it is also being handled by both VLAN interfaces instead of just ens35u1.102...\u003c/p>\u003cp>By the operation observed, It seems like a VLAN Interface only tags egress packets leaving the interface, and does not filter ingress (received) packets for that same VLAN ID?\u003c/p>\u003cp>\u003cb>FULL TEST SETUP DETAILS:\u003c/b>\u003cbr>Here is my full test setup, I have two Centos Machines (A and B),  they connected through two layer 2 switches (A and B) as shown below;\u003c/p>\u003cp> \u003ca href=\"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg\">https://uploads.disquscdn.c...\u003c/a>\u003c/p>\u003cp>Each Centos Machine has a single physical Ethernet interface called ens35u1 and eth0, respectively. \u003cbr>Off of each Physical interface I set up two \"child\" VLAN interfaces using VLAN ID's 101, and 102 on both machines.\u003cbr>     -  Centos Machine 'A' VLANS (ens35u1.101 and ens35u1.102) \u003cbr>     -  Centos Machine 'B' VLANS (eth0.101    and eth0.102)\u003c/p>\u003cp>Here is what they look like. \t\u003cbr>  \u003ccode>\u003cbr>[eio@localhost ~]$ ifconfig\u003cbr>ens35u1: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500\u003cbr>        inet 192.168.0.173  netmask 255.255.255.0  broadcast 192.168.0.255\u003cbr>        inet6 fe80::176a:2296:f962:c68c  prefixlen 64  scopeid 0x20&lt;link&gt;\u003cbr>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\u003cbr>        RX packets 458  bytes 300810 (293.7 KiB)\u003cbr>        RX errors 0  dropped 0  overruns 0  frame 0\u003cbr>        TX packets 782  bytes 443914 (433.5 KiB)\u003cbr>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\u003cbr>\u003cbr>ens35u1.101: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500\u003cbr>        inet 192.168.0.121  netmask 255.255.255.0  broadcast 192.168.0.255\u003cbr>        inet6 fe80::8fd7:549a:c21b:29ed  prefixlen 64  scopeid 0x20&lt;link&gt;\u003cbr>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\u003cbr>        RX packets 33  bytes 20048 (19.5 KiB)\u003cbr>        RX errors 0  dropped 0  overruns 0  frame 0\u003cbr>        TX packets 64  bytes 26646 (26.0 KiB)\u003cbr>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\u003cbr>\u003cbr>ens35u1.102: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500\u003cbr>        inet 192.168.0.122  netmask 255.255.255.0  broadcast 192.168.0.255\u003cbr>        inet6 fe80::a632:8e05:45a3:524e  prefixlen 64  scopeid 0x20&lt;link&gt;\u003cbr>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\u003cbr>        RX packets 0  bytes 0 (0.0 B)\u003cbr>        RX errors 0  dropped 0  overruns 0  frame 0\u003cbr>        TX packets 63  bytes 26516 (25.8 KiB)\u003cbr>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\u003cbr>\u003c/code>\u003c/p>\u003cp>\u003cb>DIAGRAM REPEATED\u003c/b>\u003cbr>\u003ca href=\"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg\">https://uploads.disquscdn.c...\u003c/a>\u003c/p>\u003cp>\u003cb>CONFIGURATION\u003c/b>\u003cbr>1.\tCentos Machine 'A' is connected to Layer 2 switch 'A' using a TRUNK that allows VLAN ID's 1, 101,and 102 on it. \u003cbr>2.\tSwitch 'A' splits the VLANS into their own individual TRUNKs using the VLAN ID before sending it to Switch 'B'. \u003cbr>3.\tSwitch 'B' then combines the individual VLANs into a single TRUNK before sending it to Machine 'B'. \u003cbr>4.\tThis configuration is mirrored on both A and B sides of the network\u003c/p>\u003cp>\u003cb>OPERATION:\u003c/b>\u003cbr>\u003cb>Sending Multicast packets:  \u003c/b>\u003cbr>1. Each Machine has two Multicast Transmit threads (one for each VLAN interface) that periodically multicasts packets out each VLAN interface to port 12345. \u003cbr>2. I can see the individual packets leaving Centos Machine 'A' onto TRUNK 'A' with the appropriate VLAN ID Tag on the packet. \u003cbr>3. Switch 'A' steers the packets to the INTER-TRUNK dedicated to that particular VLAN ID and is forwarded to Switch 'B'.\u003cbr>4. Switch 'B' combines the VLAN Packets back onto TRUNK 'B' and onto Centos Machine 'B'\u003c/p>\u003cp>\u003cb>Receiving Multicast packets:  \u003c/b>\u003cbr>1. Each Machine has two Multicast Receiver threads (one for each VLAN interface) that joins a multicast group on port 12345 and listens for packets. \u003cbr>2. When I look over the logs I can see that the receiver threads are capturing packets that have a VLAN ID TAG which do not match the VLAN ID of the interface. In other words   eth0.101 is capturing packets with 101 and 102 tag and eth0.102 is capturing packets with 101 and 102 tags. It seems like the interfaces are not filtering based on VLAN ID TAG.\u003c/p>\u003cp>\u003cb>SIMPLIFIED TEST SCENARIO\u003c/b>\u003cbr>To further simplify and explain the test scenario, I removed the Ethernet Cable that connects VLAN ID 102 TRUNK between switches. This way I would only receive packets from VLAN ID 101 at both Centos Machines since there is no longer a path for VLAN ID 102 packets. Everything else is the same. Here is the simplified diagram.\u003c/p>\u003cp>\u003cb>SIMPLIFIED SCENARIO BLOCK DIAGRAM:\u003c/b>\u003cbr> \u003ca href=\"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg\" rel=\"nofollow noopener\" title=\"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg\">https://uploads.disquscdn.c...\u003c/a>\u003c/p>\u003cp>\u003cb>NOTES:\u003c/b>\u003cbr>\u2022\tIgnoring the operation of VLAN ID 1  (Native VLAN) for now. \u003cbr>\u2022\tUnder this setup Machine 'A' will receive only packets for VLAN ID 101 via TRUNK 'A'.\u003c/p>\u003cp>\u003cb>EXPECTED OPERATION: \u003c/b>\u003cbr>\u2022\tI would expect that only the Multicast Receiver Thread for ens35u1.101 would see the packets since they are tagged with VLAN ID 101 and that ens35u1.102 would not see them because of their  VLAN ID does not match its interfaces VLAN ID of 102.\u003c/p>\u003cp>\u003cb>ACTUAL OPERATION:\u003c/b>\u003cbr>\u2022\tI verified the Multicast Receiver Thread for ens35u1.101 is receiving packets tagged with VLAN ID 101 which is what I would expect. However, I also see the Multicast Receiver Thread for ens35u1.102 is also receiving packets tagged with VLAN ID 101?\u003c/p>\u003cp>\u003cb>TCPDUMP\u003c/b>\u003cbr>I tried to capture ingress packets using the following commands at the three different interfaces on Centos Machine 'A'.\u003c/p>\u003cp>\u003cb>Capture Interface: \u003c/b>       ens35u1       \u003cbr>\u003cb>Tcpdump Command: \u003c/b>  sudo tcpdump -nnei ens35u1         -vvv   \u003cbr>\u003cb>Data Captured: \u003c/b>\u003cbr>\u2022\tPackets show the correct Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\u003cbr>\u2022\tPackets have the correct VLAN TAG = 101\u003c/p>\u003cp>\u003cb>Capture Interface:   \u003c/b>     ens35u1.101      \u003cbr>\u003cb>Tcpdump Command:  \u003c/b> sudo tcpdump -nnei ens35u1.101         -vvv   \u003cbr>\u003cb>Data Captured: \u003c/b>\u003cbr>\u2022\tPackets show the correct Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\u003cbr>\u2022\tPackets do not have a  VLAN TAG on them. Not sure if this is valid or not, I read that not seeing a VLAN Tag may be a result of the driver or the way tcpdump works? \u003cbr>\u2022\tThe Multicast Receiver Threads on each VLAN see the packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\u003c/p>\u003cp>\u003cb>Capture Interface:  \u003c/b>      ens35u1.102     \u003cbr>\u003cb>Tcpdump Command:\u003c/b>   sudo tcpdump -nnei ens35u1.102        -vvv   \u003cbr>\u003cb>Data Captured: \u003c/b>\u003cbr>\u2022\tNo packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019 even though the Multicast Receiver Threads on each VLAN see the packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\u003c/p>\u003cp>\u003cb>Tcpdump Questions:\u003c/b>\u003cbr>\u2022\tSeems like ens35u1 receives the packet with the correct VLAN Tag 101 but the VLAN interfaces may not be seeing the VLAN Tag?\u003cbr>\u2022\tCould the ens35u1 be stripping off the VLAN Tag before sending it onto the VLAN interfaces and the VLANs treat it like untagged Native packets? \u003cbr>\u2022   Not sure how ens35u1.102 Multicast Thread is receiving the packets since I don't see them with tcpdump. Yet the thread shows them.\u003c/p>\u003cp>\u003cb>CONCLUSION AND ORIGINAL QUESTION? \u003c/b>\u003cbr>\u2022\tThis leads to my initial question, \"Does a VLAN interface filter the ingress (received) packets for the VLAN ID that matches the VLAN ID of the interface?\u003cbr>\u2022\tFrom what I am seeing, it seems like having a VLAN Interface only means that egress (transmit) packets sent from that interface will be tagged with the VLAN ID tag of that interface,  and that interface does not filter any receiving packets based on its configured VLAN ID?\u003cbr>\u2022\tThe only other thing I can think of is that since the Receiver Thread is listening for the Multicast traffic on that port 12345, it takes precedence over the VLAN ID and effectively ignores the VLAN ID? In other words, if the VLAN interface sees a multicast packet for a port it has joined does it ignore the VLAN ID? \u003cbr>\u2022\tIs it possible to check the received packet for a VLAN Tag using java code? \u003cbr>\u2022\tShould I use a bridge between ens35u1  and the VLANs so it can filter the VLAN Tags and forward appropriately?\u003c/p>\u003cp>I would like to get the VLAN interfaces to filter on VLAN ID they are configured for so:\u003cbr>\u2022\tVLAN Interface ens35u1.101 only receives packets tagged with VLAN ID 101, \u003cbr>\u2022\tand VLAN Interface ens35u1.102 only receives packets tagged with VLAN ID 102.\u003c/p>\u003cp>Should my approach work, or is there another way to filter on a VLAN ID Tag in ingress packets?\u003cbr>Any idea why the VLAN are not filtering based on their configuration? \u003cbr>Any suggestions/ideas or feedback would be greatly appreciated. \u003cbr>Thanks\u003c/p>","id":"5215970578","createdAt":"2021-01-07T03:52:16","author":{"username":"disqus_8n9eheFtxJ","about":"","name":"Mike","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2016-06-22T19:15:30","profileUrl":"https://disqus.com/by/disqus_8n9eheFtxJ/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"212530665","avatar":{"small":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar32.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar32.jpg?1520522275"},"large":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275"},"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar92.jpg?1520522275","xlarge":{"permalink":"https://c.disquscdn.com/uploads/forums/526/4065/avatar128.jpg?1520522275","cache":"https://c.disquscdn.com/uploads/forums/526/4065/avatar128.jpg?1520522275"}}},"media":[{"providerName":"Disquscdn","resolvedUrl":"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","thumbnailUrl":"//uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","htmlHeight":null,"id":77193541,"thumbnailWidth":1422,"title":"","htmlWidth":null,"mediaType":"2","html":"","location":"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","type":"5","metadata":{"create_method":"preview","thumbnail":"//uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg"},"urlRedirect":"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","description":"","post":"5215970578","thumbnailURL":"//uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","thread":"6988402202","forum":"red-hat-developers-blog","url":"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","resolvedUrlRedirect":"https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg","thumbnailHeight":173},{"providerName":"Disquscdn","resolvedUrl":"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","thumbnailUrl":"//uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","htmlHeight":null,"id":77192994,"thumbnailWidth":830,"title":"","htmlWidth":null,"mediaType":"2","html":"","location":"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","type":"5","metadata":{"create_method":"preview","thumbnail":"//uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg"},"urlRedirect":"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","description":"","post":"5215970578","thumbnailURL":"//uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","thread":"6988402202","forum":"red-hat-developers-blog","url":"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","resolvedUrlRedirect":"https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg","thumbnailHeight":190},{"providerName":"Disquscdn","resolvedUrl":"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","thumbnailUrl":"//uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","htmlHeight":null,"id":77190961,"thumbnailWidth":968,"title":"","htmlWidth":null,"mediaType":"2","html":"","location":"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","type":"5","metadata":{"create_method":"preview","thumbnail":"//uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg"},"urlRedirect":"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","description":"","post":"5215970578","thumbnailURL":"//uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","thread":"6988402202","forum":"red-hat-developers-blog","url":"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","resolvedUrlRedirect":"https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg","thumbnailHeight":164}],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Awesome article! \nI am having issues setting up a set of VLANs on my machine.  \n\n \n\u003cb>DESCRIPTION:\u003c/b>\nI have setup two Virtual LAN (VLAN) interfaces (ens35u1.101 and ens35u1.102) off of a parent Physical Ethernet Interface (ens35u1).  The physical Interface ens35u1 is connected to a Trunk port of a Layer 2 switch, see diagram below. \n https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg \n\nI verified that the egress packets from each VLAN interface are tagged with the appropriate VLAN tags and sent on the Trunk to the Layer 2 Switch:\n\n     o\tens35u1.101  is setup to tag egress packets with a VLAN tag = 101\n     o\tens35u1.102  is setup to tag egress packets with a VLAN tag = 102\n\nI would expect the following operation for ingress packets to the VLAN interfaces. \n     o\tens35u1.101  will filter ingress packets for a VLAN tag = 101 and ignore all other packets different VLAN tags\n    o\tens35u1.102  will filter ingress packets for a VLAN tag = 102 and ignore all other packets different VLAN tags.\n\n\n\u003cb>PROBLEM:\u003c/b>\nThe actual operation for ingress packets us they are handled by both interfaces regardless of the VLAN Tag. They do not appear to filter out VLAN tags that don\u2019t match their particular configuration. In other words:\n\n1) if the Centos machine receives a packet with a VLAN tag = 101 from the Switch it is being handled by both VLAN interfaces (ens35u1.101 and ens35u1.102). Again, I would think that only ens35u1.101 should handle it, and ens35u1.102 would ignore it since it doesn\u2019t match the VLAN tag of that interface.  \n\n2) The same happens if the Centos machine receives a packet with a VLAN tag = 102 from the Switch,  it is also being handled by both VLAN interfaces instead of just ens35u1.102...\n\nBy the operation observed, It seems like a VLAN Interface only tags egress packets leaving the interface, and does not filter ingress (received) packets for that same VLAN ID?\n\n\u003cb>FULL TEST SETUP DETAILS:\u003c/b>\nHere is my full test setup, I have two Centos Machines (A and B),  they connected through two layer 2 switches (A and B) as shown below;\n\n https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg \n\nEach Centos Machine has a single physical Ethernet interface called ens35u1 and eth0, respectively. \nOff of each Physical interface I set up two \"child\" VLAN interfaces using VLAN ID's 101, and 102 on both machines.\n     -  Centos Machine 'A' VLANS (ens35u1.101 and ens35u1.102) \n     -  Centos Machine 'B' VLANS (eth0.101    and eth0.102)  \n\nHere is what they look like. \t\n  \u003ccode>\n[eio@localhost ~]$ ifconfig\nens35u1: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 192.168.0.173  netmask 255.255.255.0  broadcast 192.168.0.255\n        inet6 fe80::176a:2296:f962:c68c  prefixlen 64  scopeid 0x20\u003clink>\n        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\n        RX packets 458  bytes 300810 (293.7 KiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 782  bytes 443914 (433.5 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nens35u1.101: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 192.168.0.121  netmask 255.255.255.0  broadcast 192.168.0.255\n        inet6 fe80::8fd7:549a:c21b:29ed  prefixlen 64  scopeid 0x20\u003clink>\n        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\n        RX packets 33  bytes 20048 (19.5 KiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 64  bytes 26646 (26.0 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nens35u1.102: flags=4163\u003cUP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 192.168.0.122  netmask 255.255.255.0  broadcast 192.168.0.255\n        inet6 fe80::a632:8e05:45a3:524e  prefixlen 64  scopeid 0x20\u003clink>\n        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)\n        RX packets 0  bytes 0 (0.0 B)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 63  bytes 26516 (25.8 KiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\u003c/code>\n \n\u003cb>DIAGRAM REPEATED\u003c/b>\nhttps://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg \n\n\u003cb>CONFIGURATION\u003c/b>\n1.\tCentos Machine 'A' is connected to Layer 2 switch 'A' using a TRUNK that allows VLAN ID's 1, 101,and 102 on it. \n2.\tSwitch 'A' splits the VLANS into their own individual TRUNKs using the VLAN ID before sending it to Switch 'B'. \n3.\tSwitch 'B' then combines the individual VLANs into a single TRUNK before sending it to Machine 'B'. \n4.\tThis configuration is mirrored on both A and B sides of the network\n\n\u003cb>OPERATION:\u003c/b>\n\u003cb>Sending Multicast packets:  \u003c/b>\n1. Each Machine has two Multicast Transmit threads (one for each VLAN interface) that periodically multicasts packets out each VLAN interface to port 12345. \n2. I can see the individual packets leaving Centos Machine 'A' onto TRUNK 'A' with the appropriate VLAN ID Tag on the packet. \n3. Switch 'A' steers the packets to the INTER-TRUNK dedicated to that particular VLAN ID and is forwarded to Switch 'B'.\n4. Switch 'B' combines the VLAN Packets back onto TRUNK 'B' and onto Centos Machine 'B'\n\n\u003cb>Receiving Multicast packets:  \u003c/b>\n1. Each Machine has two Multicast Receiver threads (one for each VLAN interface) that joins a multicast group on port 12345 and listens for packets. \n2. When I look over the logs I can see that the receiver threads are capturing packets that have a VLAN ID TAG which do not match the VLAN ID of the interface. In other words   eth0.101 is capturing packets with 101 and 102 tag and eth0.102 is capturing packets with 101 and 102 tags. It seems like the interfaces are not filtering based on VLAN ID TAG.\n\n\n\n \n\u003cb>SIMPLIFIED TEST SCENARIO\u003c/b>\nTo further simplify and explain the test scenario, I removed the Ethernet Cable that connects VLAN ID 102 TRUNK between switches. This way I would only receive packets from VLAN ID 101 at both Centos Machines since there is no longer a path for VLAN ID 102 packets. Everything else is the same. Here is the simplified diagram. \n\n\u003cb>SIMPLIFIED SCENARIO BLOCK DIAGRAM:\u003c/b>\n https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg \n\n\n\u003cb>NOTES:\u003c/b>\n\u2022\tIgnoring the operation of VLAN ID 1  (Native VLAN) for now. \n\u2022\tUnder this setup Machine 'A' will receive only packets for VLAN ID 101 via TRUNK 'A'. \n\n\u003cb>EXPECTED OPERATION: \u003c/b>\n\u2022\tI would expect that only the Multicast Receiver Thread for ens35u1.101 would see the packets since they are tagged with VLAN ID 101 and that ens35u1.102 would not see them because of their  VLAN ID does not match its interfaces VLAN ID of 102.\n\n\u003cb>ACTUAL OPERATION:\u003c/b>\n\u2022\tI verified the Multicast Receiver Thread for ens35u1.101 is receiving packets tagged with VLAN ID 101 which is what I would expect. However, I also see the Multicast Receiver Thread for ens35u1.102 is also receiving packets tagged with VLAN ID 101? \n\n\u003cb>TCPDUMP\u003c/b>\nI tried to capture ingress packets using the following commands at the three different interfaces on Centos Machine 'A'. \n\n\u003cb>Capture Interface: \u003c/b>       ens35u1       \n\u003cb>Tcpdump Command: \u003c/b>  sudo tcpdump -nnei ens35u1         -vvv   \n\u003cb>Data Captured: \u003c/b>\n\u2022\tPackets show the correct Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\n\u2022\tPackets have the correct VLAN TAG = 101 \n\n\u003cb>Capture Interface:   \u003c/b>     ens35u1.101      \n\u003cb>Tcpdump Command:  \u003c/b> sudo tcpdump -nnei ens35u1.101         -vvv   \n\u003cb>Data Captured: \u003c/b>\n\u2022\tPackets show the correct Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\n\u2022\tPackets do not have a  VLAN TAG on them. Not sure if this is valid or not, I read that not seeing a VLAN Tag may be a result of the driver or the way tcpdump works? \n\u2022\tThe Multicast Receiver Threads on each VLAN see the packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\n\n\u003cb>Capture Interface:  \u003c/b>      ens35u1.102     \n\u003cb>Tcpdump Command:\u003c/b>   sudo tcpdump -nnei ens35u1.102        -vvv   \n\u003cb>Data Captured: \u003c/b>\n\u2022\tNo packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019 even though the Multicast Receiver Threads on each VLAN see the packets from the Remote IP Address for eth.101 on Centos 7 Machine \u2018B\u2019\n\n\u003cb>Tcpdump Questions:\u003c/b>\n\u2022\tSeems like ens35u1 receives the packet with the correct VLAN Tag 101 but the VLAN interfaces may not be seeing the VLAN Tag?\n\u2022\tCould the ens35u1 be stripping off the VLAN Tag before sending it onto the VLAN interfaces and the VLANs treat it like untagged Native packets? \n\u2022   Not sure how ens35u1.102 Multicast Thread is receiving the packets since I don't see them with tcpdump. Yet the thread shows them.\n\n\n\n\u003cb>CONCLUSION AND ORIGINAL QUESTION? \u003c/b>\n\u2022\tThis leads to my initial question, \"Does a VLAN interface filter the ingress (received) packets for the VLAN ID that matches the VLAN ID of the interface?\n\u2022\tFrom what I am seeing, it seems like having a VLAN Interface only means that egress (transmit) packets sent from that interface will be tagged with the VLAN ID tag of that interface,  and that interface does not filter any receiving packets based on its configured VLAN ID?\n\u2022\tThe only other thing I can think of is that since the Receiver Thread is listening for the Multicast traffic on that port 12345, it takes precedence over the VLAN ID and effectively ignores the VLAN ID? In other words, if the VLAN interface sees a multicast packet for a port it has joined does it ignore the VLAN ID? \n\u2022\tIs it possible to check the received packet for a VLAN Tag using java code? \n\u2022\tShould I use a bridge between ens35u1  and the VLANs so it can filter the VLAN Tags and forward appropriately? \n\n\nI would like to get the VLAN interfaces to filter on VLAN ID they are configured for so:\n\u2022\tVLAN Interface ens35u1.101 only receives packets tagged with VLAN ID 101, \n\u2022\tand VLAN Interface ens35u1.102 only receives packets tagged with VLAN ID 102.   \n\nShould my approach work, or is there another way to filter on a VLAN ID Tag in ingress packets?\nAny idea why the VLAN are not filtering based on their configuration? \nAny suggestions/ideas or feedback would be greatly appreciated. \nThanks","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":["media"],"isEdited":true,"sb":false},{"editableUntil":"2020-11-13T10:42:51","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cp>Great. I wanted one thing, but this is godfather of that one thing I was looking for. Cool.\u003c/p>","id":"5140200734","createdAt":"2020-11-06T10:42:51","author":{"username":"shiboham","about":"Damn it. You found me.","name":"Prabesh","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2016-06-03T06:59:52","profileUrl":"https://disqus.com/by/shiboham/","url":"","location":"Around the world.","isPrivate":true,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"210329760","avatar":{"permalink":"https://disqus.com/api/users/avatars/shiboham.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/shiboham.jpg","cache":"https://c.disquscdn.com/uploads/users/21032/9760/avatar128.jpg?1604660525"},"cache":"https://c.disquscdn.com/uploads/users/21032/9760/avatar92.jpg?1604660525","large":{"permalink":"https://disqus.com/api/users/avatars/shiboham.jpg","cache":"https://c.disquscdn.com/uploads/users/21032/9760/avatar92.jpg?1604660525"},"small":{"permalink":"https://disqus.com/api/users/avatars/shiboham.jpg","cache":"https://c.disquscdn.com/uploads/users/21032/9760/avatar32.jpg?1604660525"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Great. I wanted one thing, but this is godfather of that one thing I was looking for. Cool.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2020-10-29T23:16:28","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cp>Thank you for the sharing.\u003c/p>","id":"5121084769","createdAt":"2020-10-22T23:16:28","author":{"username":"disqus_BLqycjAGsm","about":"","name":"\u90ed\u5955\u65b0","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2020-10-22T23:16:10","profileUrl":"https://disqus.com/by/disqus_BLqycjAGsm/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"358379806","avatar":{"permalink":"https://disqus.com/api/users/avatars/disqus_BLqycjAGsm.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/disqus_BLqycjAGsm.jpg","cache":"https://c.disquscdn.com/uploads/users/35837/9806/avatar128.jpg?1603408619"},"cache":"https://c.disquscdn.com/uploads/users/35837/9806/avatar92.jpg?1603408619","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_BLqycjAGsm.jpg","cache":"https://c.disquscdn.com/uploads/users/35837/9806/avatar92.jpg?1603408619"},"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_BLqycjAGsm.jpg","cache":"https://c.disquscdn.com/uploads/users/35837/9806/avatar32.jpg?1603408619"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Thank you for the sharing.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2018-11-07T14:22:21","dislikes":0,"thread":"6988402202","numReports":0,"likes":0,"message":"\u003cp>Thank you for this, it was very helpful\u003c/p>","id":"4171678768","createdAt":"2018-10-31T13:22:21","author":{"username":"disqus_ZCXwfotV2t","about":"","name":"John Matthew","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2013-07-14T17:09:33","profileUrl":"https://disqus.com/by/disqus_ZCXwfotV2t/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"62319342","avatar":{"permalink":"https://disqus.com/api/users/avatars/disqus_ZCXwfotV2t.jpg","xlarge":{"permalink":"https://disqus.com/api/users/avatars/disqus_ZCXwfotV2t.jpg","cache":"https://c.disquscdn.com/uploads/users/6231/9342/avatar128.jpg?1373821775"},"cache":"https://c.disquscdn.com/uploads/users/6231/9342/avatar92.jpg?1373821775","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_ZCXwfotV2t.jpg","cache":"https://c.disquscdn.com/uploads/users/6231/9342/avatar92.jpg?1373821775"},"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_ZCXwfotV2t.jpg","cache":"https://c.disquscdn.com/uploads/users/6231/9342/avatar32.jpg?1373821775"},"isCustom":true}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isNewUserNeedsApproval":false,"isFlagged":false,"raw_message":"Thank you for this, it was very helpful","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"red-hat-developers-blog","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false}],"thread":{"feed":"https://red-hat-developers-blog.disqus.com/introduction_to_linux_interfaces_for_virtual_networking/latest.rss","clean_title":"Introduction to Linux interfaces for virtual networking","dislikes":0,"likes":13,"message":"","ratingsEnabled":false,"isSpam":false,"isDeleted":false,"category":"7219979","adsDisabled":false,"author":"264938188","id":"6988402202","signedLink":"https://disq.us/?url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F10%2F22%2Fintroduction-to-linux-interfaces-for-virtual-networking&key=IY4MqFVZYEMSBmSZ8Sv3gw","createdAt":"2018-10-22T19:37:08","hasStreaming":false,"raw_message":"","isClosed":false,"link":"https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking","slug":"introduction_to_linux_interfaces_for_virtual_networking","forum":"red-hat-developers-blog","identifiers":["245521","525757 https://developers.redhat.com/blog/?p=525757"],"posts":9,"moderators":[331987042,331774243,361243140,381027653,334314950,382939560,375030313,343304746,274223307,264938188,383314434,328623921,386823826,375351671,370985941,375351350,329137175,383749403,388667131,353501534,382179006],"validateAllPosts":false,"title":"Introduction to Linux interfaces for virtual networking","highlightedPost":null}},"order":"popular"}</script>


    <div id="fixed-content"></div>


    
        
            
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current"
}</script>

        
        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="a_data_003/common.js"></script><div id="layout" data-tracking-area="layout"><div id="thread__container"><div><div id="thread__wrapper"><div id="placement-top" data-tracking-area="discovery-north"></div><div id="onboard" data-tracking-area="onboard"><div></div></div><div id="reactions__container"></div><div id="ratings__container"></div><div id="comment-policy" class="comment-policy publisher-anchor-color"><div class="content"><p class="comment-policy-title text-bold">Red Hat Developer Comment Policy</p><p class="comment-policy-text">Please keep your comments relevant and polite. Opinions shared in comments are not official Red Hat news or policy.<p class="comment-policy-link">Please read our <a href="https://developers.redhat.com/comment-policy/" target="_blank" rel="noopener noreferrer" class=" policy-link">Comment Policy</a> before commenting.</p></p></div><span aria-hidden="true" class="icon icon-chat-bubble"></span></div><div id="badges-message__container"></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><div id="tos__container"></div><header id="main-nav" data-tracking-area="main-nav"><div><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">9 comments</span></a></li><li class="nav-tab nav-tab--primary tab-user"><ul><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu" style="display: list-item;"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/notifications/"><span class="notification-icon icon-comment" aria-hidden="true"></span><span class="notification-count" data-role="notification-count">1</span></a></li><li class="nav-tab nav-tab--primary dropdown user-menu" data-role="logout"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="menuitem" name="Login"><span class="dropdown-toggle-wrapper"><span>Login</span> </span> <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="#" data-action="auth:disqus">Disqus</a></li><li><a href="#" data-action="auth:facebook">Facebook</a></li><li><a href="#" data-action="auth:twitter">Twitter</a></li><li><a href="#" data-action="auth:google">Google</a></li></ul></li></ul></li></ul></nav></div></header><section id="conversation" data-role="main" data-tracking-area="main"><div id="posts"><div id="form" class="textarea-outer-wrapper--top-level"><form class="reply"><div class="postbox"><div role="alert"></div><div class="ratings-wrapper" data-role="ratings-container"></div><div class="compose-wrapper"><div class="avatar"><span class="user"><img data-role="user-avatar" src="a_data_003/avatar92.jpg" alt="Avatar"></span></div><div class="textarea-outer-wrapper"><div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" data-role="editable" style="overflow: auto; overflow-wrap: break-word; max-height: 350px;" aria-label="Join the discussion…" contenteditable="true"><p><br></p></div><div style="display: none;"><ul class="user-mention__list" id="user-mention-list"><li class="header user-mention__header"><h5>in this conversation</h5></li></ul></div></div><div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none;"><div class="drag-text">⬇ Drag and drop your images here to upload them.</div></div><div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div><div class="edit-alert" role="postbox-alert"></div><div class="text-editor-container"><div class="post-actions"><div class="wysiwyg"><div class="gif-picker"><div class="wysiwyg__item" data-role="gif-picker-toggle" title="GIF" aria-label="Open GIF menu" tabindex="0"><div class="wysiwyg__gif" title="GIF" role="img"></div></div><div class="hidden gif-picker__popout-container" data-role="gif-picker-popout-container"></div><div class="new-feature-badge-star" title="New"><div class="wysiwyg__star-badge wysiwyg__star-badge-dims"></div></div></div><div class="media-uploader"><li class="wysiwyg__item" data-role="media-uploader" tabindex="-1"><a href="#" data-action="attach" class="attach" title="Upload Images" tabindex="0" aria-label="Open file attachment menu">
<div class="wysiwyg__attach wysiwyg__attach-dims" role="img"></div>
</a>
<input type="file" data-role="media-upload" tabindex="-1" accept="image/*">
</li></div><div class="vertical-separator"></div><div data-action="text-editor-buttons"><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="b" tabindex="0" aria-label="Add bold tags to text editor"><div class="wysiwyg__bold" title="Bold" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="i" tabindex="0" aria-label="Add italics tags to text editor"><div class="wysiwyg__italic" title="Italic" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="u" tabindex="0" aria-label="Add underline tags to text editor"><div class="wysiwyg__underline" title="Underline" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="s" tabindex="0" aria-label="Add strikethrough tags to text editor"><div class="wysiwyg__strikethrough" title="Strikethrough" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="a" tabindex="0" aria-label="Add link tags to text editor"><div class="wysiwyg__link" title="Link" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="spoiler" tabindex="0" aria-label="Add spoiler tags to text editor"><div class="wysiwyg__spoiler" title="Spoiler" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="code" tabindex="0" aria-label="Add code tags to text editor"><div class="wysiwyg__code" title="Code" role="img"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="blockquote" tabindex="0" aria-label="Add block quote tags to text editor"><div class="wysiwyg__blockquote" title="Quote" role="img"></div></div></div></div><div class="logged-in"><section><div class="temp-post"><button class="btn post-action__button full-size-button hidden">Post as <span data-role="username"></span></button><button class="btn post-action__button small-size-button hidden">Post</button></div></section></div></div></div></div></div></div><div data-role="login-form"><div><div><section class="auth-section logged-out__display"><div class="connect"><h6>Log in with</h6><ul data-role="login-menu" class="services login-buttons"><li class="auth-disqus"><button type="button" data-action="auth:disqus" title="Disqus" class="connect__button" aria-label="Login with Disqus"><i class="icon-disqus"></i></button></li><li class="auth-facebook"><button type="button" data-action="auth:facebook" title="Facebook" class="connect__button" aria-label="Login with Facebook"><i class="icon-facebook-circle"></i></button></li><li class="auth-twitter"><button type="button" data-action="auth:twitter" title="Twitter" class="connect__button" aria-label="Login with Twitter"><i class="icon-twitter-circle"></i></button></li><li class="auth-google"><button type="button" data-action="auth:google" title="Google" class="connect__button" aria-label="Login with Google"><i class="icon-google-plus-circle"></i></button></li></ul></div><div class="guest"><h6 class="guest-form-title"><span class="register-text"> or sign up with Disqus </span><span class="guest-text"> or pick a name </span></h6> <button type="button" class="help-tooltip__wrapper help-icon" name="guest_tooltip" tabindex="0"><div id="rules" class="help-tooltip__container" data-role="guest-form-tooltip"><div class="tooltip show help-tooltip"><h3 class="help-tooltip__heading">Disqus is a discussion network</h3><ul class="help-tooltip__list"><li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li></ul><p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" rel="noopener noreferrer" target="_blank">Read full terms and conditions</a></p></div></div></button><p class="input-wrapper"><input dir="auto" type="text" placeholder="Name" name="display_name" id="view48_display_name" maxlength="30" class="input--text" aria-label="name"></p><div class="guest-details " data-role="guest-details"><p class="input-wrapper"><input dir="auto" type="email" placeholder="Email" name="email" id="view48_email" class="input--text" aria-label="email"></p><p class="input-wrapper"><input dir="auto" disabled="disabled" type="text" class="register-text input--text" placeholder="Password" name="password" aria-label="password" id="view48_password"></p><p><label><span>Please access our <a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
 to learn what personal data Disqus collects and your choices about how 
it is used.  All users of our service are also subject to our <a href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service" target="_blank" rel="noopener noreferrer">Terms of Service</a>.</span></label></p><div class="guest-checkbox"><label><input type="checkbox" name="author-guest"> I'd rather post as a guest</label></div><div class="g-recaptcha" data-role="grecaptcha-container"></div><div class="proceed" data-role="submit-btn-container"><div><button type="submit" class="proceed__button btn submit" aria-label="Post"><span class="icon-proceed"></span><div class="spinner"></div></button><button type="submit" class="proceed__button btn next" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button></div></div></div></div></section></div></div></div></div></form></div><button class="alert alert--realtime" style="display: none;" data-role="realtime-notification"></button><div id="email-signup"></div><div id="secondary-navigation"><div data-tracking-area="secondary-nav" class="nav nav-secondary"><ul><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-left spacing-right-large"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu"><li class="selected"><a href="#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li><li id="favorite-button" class="nav-tab nav-tab--secondary favorite dropdown pull-left" aria-label="Favorite this discussion"><div class="thread-likes"><div><a href="#" data-action="favorite" title="Favorite this discussion" class="dropdown-toggle " aria-label="Favorite this discussion"><span class="label label-default"><span class="favorite-icon icon-heart-empty"></span></span><span class="label label-favorited"><span class="favorite-icon icon-heart"></span></span> <span class="label label-count">13</span></a><ul class="dropdown-menu dropdown-menu--coachmark pull-right"><li><div><h2 class="coachmark__heading">Discussion Favorited!</h2><p class="coachmark__description">Favoriting means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p></div> <a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank" rel="noopener noreferrer">Find More Discussions</a></li></ul></div></div></li><li id="thread-share-bar" class="nav-tab nav-tab--secondary share-bar pull-left"><span data-role="thread-share" class="thread-share-bar-buttons dropdown"><a href="#" class="dropdown-toggle icon icon-share" data-toggle="dropdown" aria-label="Share"></a><ul class="dropdown-menu pull-right"><div class="thread-share__text">Share this discussion</div><li class="thread-share__item"><span class="share-twitter" data-action="share:twitter" tabindex="0"><span class="icon-twitter-circle" aria-hidden="true"></span><span class="visually-hidden">Tweet this discussion</span></span></li><li class="thread-share__item"><span class="share-facebook" data-action="share:facebook" tabindex="0"><span class="icon-facebook-circle" aria-hidden="true"></span><span class="visually-hidden">Share this discussion on Facebook</span></span></li></ul></span></li></ul></div></div><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-4351559568"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4351559568"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/igorcicimov/" data-action="profile" data-tab="" data-username="igorcicimov" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="166335090" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/igorcicimov/" data-action="profile" data-tab="" data-username="igorcicimov" target="_blank" rel="noopener noreferrer">Igor Cicimov</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-4351559568" data-role="relative-time" class="time-ago" title="Saturday, February 23, 2019 9:26 PM">4 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p><code># ip link add macv1 link eth0 type macvlan mode bridge<br># ip link add macv2 link eth0 type macvlan mode bridge<br># ip netns add net1<br># ip netns add net2<br># ip link set macvlan1 netns net1<br># ip link set macvlan2 netns net2</code><br>Here macvlan1 and 2 should be macv1 and 2</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-2" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">2</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-4351559568" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/1zyt0uo" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1zyt0uo"></li></ul></li><li class="realtime" data-role="realtime-notification:4351559568"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4746772086"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4746772086"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/tcler/" data-action="profile" data-tab="" data-username="tcler" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="182633434" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/tcler/" data-action="profile" data-tab="" data-username="tcler" target="_blank" rel="noopener noreferrer">Jianhong</a></span> </span><span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-4351559568" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Igor Cicimov</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-4746772086" data-role="relative-time" class="time-ago" title="Monday, January 6, 2020 3:27 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>#by using <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Ftcler%2Fkiss-vm-ns%2Fblob%2Fmaster%2Fkiss-netns%3A5vTWwCJIvW5k42GiqQtWJdD-qHo&amp;cuid=5264065" rel="nofollow noopener" title="https://github.com/tcler/kiss-vm-ns/blob/master/kiss-netns">https://github.com/tcler/ki...</a><br>netns  net1,macv1,192.168.0.11   net2,macv2,192.168.0.22</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-1" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">1</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-4746772086" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/26i3ss6" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/26i3ss6"></li></ul></li><li class="realtime" data-role="realtime-notification:4746772086"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4746772086-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4351559568-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-4332016456"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4332016456"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/terrywang/" data-action="profile" data-tab="" data-username="terrywang" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="183251" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/terrywang/" data-action="profile" data-tab="" data-username="terrywang" target="_blank" rel="noopener noreferrer">terrywang</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-4332016456" data-role="relative-time" class="time-ago" title="Monday, February 11, 2019 5:56 AM">4 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Excellent article covering more Linux virtual networking than I knew ;-)</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-2" data-action="upvote" title="" name="Vote up"><span class="updatable count" data-role="likes">2</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-4332016456" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/1zn65ag" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1zn65ag"></li></ul></li><li class="realtime" data-role="realtime-notification:4332016456"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4332016456-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-5511933151"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="5511933151"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/patrickgoetz/" data-action="profile" data-tab="" data-username="patrickgoetz" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="59337982" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/patrickgoetz/" data-action="profile" data-tab="" data-username="patrickgoetz" target="_blank" rel="noopener noreferrer">Patrick Goetz</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-5511933151" data-role="relative-time" class="time-ago" title="Friday, August 27, 2021 5:23 PM">a year ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><blockquote><br> For example, a team supports LACP load-balancing, NS/NA (IPV6) link <br>monitoring, D-Bus interface, etc., which are absent in bonding<br></blockquote><p></p><p>This is flat out incorrect. Bonded interfaces most certainly <b>do</b> support LACP bonding, even as per the source you reference.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-5511933151" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/2j5nuu7" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/2j5nuu7"></li></ul></li><li class="realtime" data-role="realtime-notification:5511933151"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-5511933151-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-5463954850"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="5463954850"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_yIziIeFGIO/" data-action="profile" data-tab="" data-username="disqus_yIziIeFGIO" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="133328816" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_yIziIeFGIO/" data-action="profile" data-tab="" data-username="disqus_yIziIeFGIO" target="_blank" rel="noopener noreferrer">hev</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-5463954850" data-role="relative-time" class="time-ago" title="Wednesday, July 21, 2021 10:16 AM">a year ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Awesome!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-5463954850" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/2id3ijm" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/2id3ijm"></li></ul></li><li class="realtime" data-role="realtime-notification:5463954850"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-5463954850-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-5215970578"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="5215970578"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_8n9eheFtxJ/" data-action="profile" data-tab="" data-username="disqus_8n9eheFtxJ" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="212530665" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_8n9eheFtxJ/" data-action="profile" data-tab="" data-username="disqus_8n9eheFtxJ" target="_blank" rel="noopener noreferrer">Mike</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-5215970578" data-role="relative-time" class="time-ago" title="Wednesday, January 6, 2021 10:52 PM">2 years ago</a> <span><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <span class="has-edit" data-role="has-edit">edited</span></span></span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Awesome article! <br>I am having issues setting up a set of VLANs on my machine.</p><p><b>DESCRIPTION:</b><br>I
 have setup two Virtual LAN (VLAN) interfaces (ens35u1.101 and 
ens35u1.102) off of a parent Physical Ethernet Interface (ens35u1).  The
 physical Interface ens35u1 is connected to a Trunk port of a Layer 2 
switch, see diagram below. <br> <span></span><div class="media-container media-mode-deferred">
<a class="media-button media-button-expand publisher-color publisher-border-color" href="https://uploads.disquscdn.com/images/3de0e7b40c5e3ba969425d1e560b80f16d165aebe6e4da8f32fdb251d53ecb33.jpg" rel="nofollow" target="_blank" data-action="expand" title="">
<i class="icon-images publisher-background-color"></i>
View
</a>
<a class="media-button media-button-contract publisher-color publisher-border-color" href="#" target="_blank" data-action="contract">
<i class="icon-cancel publisher-background-color"></i> Hide
</a>
<div class="media-content-loader" data-role="content-loader"></div>
<div data-role="content-placeholder" class="media-content-placeholder media-Disquscdn " style="height: 190px;"><a href="#" class="media-force-load" data-action="force-load"><i class="icon-images"></i></a>
</div>
</div></p><p>I verified that the egress packets from each VLAN interface
 are tagged with the appropriate VLAN tags and sent on the Trunk to the 
Layer 2 Switch:</p><p>     o	ens35u1.101  is setup to tag egress packets with a VLAN tag = 101<br>     o	ens35u1.102  is setup to tag egress packets with a VLAN tag = 102</p><p>I would expect the following operation for ingress packets to the VLAN interfaces. <br>     o	ens35u1.101  will filter ingress packets for a VLAN tag = 101 and ignore all other packets different VLAN tags<br>    o	ens35u1.102  will filter ingress packets for a VLAN tag = 102 and ignore all other packets different VLAN tags.</p><p><b>PROBLEM:</b><br>The
 actual operation for ingress packets us they are handled by both 
interfaces regardless of the VLAN Tag. They do not appear to filter out 
VLAN tags that don’t match their particular configuration. In other 
words:</p><p>1) if the Centos machine receives a packet with a VLAN tag =
 101 from the Switch it is being handled by both VLAN interfaces 
(ens35u1.101 and ens35u1.102). Again, I would think that only 
ens35u1.101 should handle it, and ens35u1.102 would ignore it since it 
doesn’t match the VLAN tag of that interface.</p><p>2) The same happens 
if the Centos machine receives a packet with a VLAN tag = 102 from the 
Switch,  it is also being handled by both VLAN interfaces instead of 
just ens35u1.102...</p><p>By the operation observed, It seems like a 
VLAN Interface only tags egress packets leaving the interface, and does 
not filter ingress (received) packets for that same VLAN ID?</p><p><b>FULL TEST SETUP DETAILS:</b><br>Here
 is my full test setup, I have two Centos Machines (A and B),  they 
connected through two layer 2 switches (A and B) as shown below;</p><p> <span></span><div class="media-container media-mode-deferred">
<a class="media-button media-button-expand publisher-color publisher-border-color" href="https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg" rel="nofollow" target="_blank" data-action="expand" title="">
<i class="icon-images publisher-background-color"></i>
View
</a>
<a class="media-button media-button-contract publisher-color publisher-border-color" href="#" target="_blank" data-action="contract">
<i class="icon-cancel publisher-background-color"></i> Hide
</a>
<div class="media-content-loader" data-role="content-loader"></div>
<div data-role="content-placeholder" class="media-content-placeholder media-Disquscdn " style="height: 164px;"><a href="#" class="media-force-load" data-action="force-load"><i class="icon-images"></i></a>
</div>
</div></p><p>Each Centos Machine has a single physical Ethernet interface called ens35u1 and eth0, respectively. <br>Off of each Physical interface I set up two "child" VLAN interfaces using VLAN ID's 101, and 102 on both machines.<br>     -  Centos Machine 'A' VLANS (ens35u1.101 and ens35u1.102) <br>     -  Centos Machine 'B' VLANS (eth0.101    and eth0.102)</p><p>Here is what they look like. 	<br>  <code><br>[eio@localhost ~]$ ifconfig<br>ens35u1: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500<br>        inet 192.168.0.173  netmask 255.255.255.0  broadcast 192.168.0.255<br>        inet6 fe80::176a:2296:f962:c68c  prefixlen 64  scopeid 0x20&lt;link&gt;<br>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)<br>        RX packets 458  bytes 300810 (293.7 KiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 782  bytes 443914 (433.5 KiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>ens35u1.101: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500<br>        inet 192.168.0.121  netmask 255.255.255.0  broadcast 192.168.0.255<br>        inet6 fe80::8fd7:549a:c21b:29ed  prefixlen 64  scopeid 0x20&lt;link&gt;<br>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)<br>        RX packets 33  bytes 20048 (19.5 KiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 64  bytes 26646 (26.0 KiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>ens35u1.102: flags=4163&lt;up,broadcast,running,multicast&gt;  mtu 1500<br>        inet 192.168.0.122  netmask 255.255.255.0  broadcast 192.168.0.255<br>        inet6 fe80::a632:8e05:45a3:524e  prefixlen 64  scopeid 0x20&lt;link&gt;<br>        ether 50:3e:aa:dc:4f:a6  txqueuelen 1000  (Ethernet)<br>        RX packets 0  bytes 0 (0.0 B)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 63  bytes 26516 (25.8 KiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br></code></p><p><b>DIAGRAM REPEATED</b><br><a href="https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg" rel="nofollow noopener" title="https://uploads.disquscdn.com/images/56b15147015f8846bbf1d81bd14939f12c5a4ae65a3406dd2c61dfd88a85644d.jpg">https://uploads.disquscdn.c...</a></p><p><b>CONFIGURATION</b><br>1.	Centos Machine 'A' is connected to Layer 2 switch 'A' using a TRUNK that allows VLAN ID's 1, 101,and 102 on it. <br>2.	Switch 'A' splits the VLANS into their own individual TRUNKs using the VLAN ID before sending it to Switch 'B'. <br>3.	Switch 'B' then combines the individual VLANs into a single TRUNK before sending it to Machine 'B'. <br>4.	This configuration is mirrored on both A and B sides of the network</p><p><b>OPERATION:</b><br><b>Sending Multicast packets:  </b><br>1.
 Each Machine has two Multicast Transmit threads (one for each VLAN 
interface) that periodically multicasts packets out each VLAN interface 
to port 12345. <br>2. I can see the individual packets leaving Centos Machine 'A' onto TRUNK 'A' with the appropriate VLAN ID Tag on the packet. <br>3. Switch 'A' steers the packets to the INTER-TRUNK dedicated to that particular VLAN ID and is forwarded to Switch 'B'.<br>4. Switch 'B' combines the VLAN Packets back onto TRUNK 'B' and onto Centos Machine 'B'</p><p><b>Receiving Multicast packets:  </b><br>1.
 Each Machine has two Multicast Receiver threads (one for each VLAN 
interface) that joins a multicast group on port 12345 and listens for 
packets. <br>2. When I look over the logs I can see that the receiver 
threads are capturing packets that have a VLAN ID TAG which do not match
 the VLAN ID of the interface. In other words   eth0.101 is capturing 
packets with 101 and 102 tag and eth0.102 is capturing packets with 101 
and 102 tags. It seems like the interfaces are not filtering based on 
VLAN ID TAG.</p><p><b>SIMPLIFIED TEST SCENARIO</b><br>To further 
simplify and explain the test scenario, I removed the Ethernet Cable 
that connects VLAN ID 102 TRUNK between switches. This way I would only 
receive packets from VLAN ID 101 at both Centos Machines since there is 
no longer a path for VLAN ID 102 packets. Everything else is the same. 
Here is the simplified diagram.</p><p><b>SIMPLIFIED SCENARIO BLOCK DIAGRAM:</b><br> <span></span><div class="media-container media-mode-deferred">
<a class="media-button media-button-expand publisher-color publisher-border-color" href="https://uploads.disquscdn.com/images/740d6011380f2026827aec4774b971fc2d2e37df4c6c7a9da540b1ab82f71ede.jpg" rel="nofollow" target="_blank" data-action="expand" title="">
<i class="icon-images publisher-background-color"></i>
View
</a>
<a class="media-button media-button-contract publisher-color publisher-border-color" href="#" target="_blank" data-action="contract">
<i class="icon-cancel publisher-background-color"></i> Hide
</a>
<div class="media-content-loader" data-role="content-loader"></div>
<div data-role="content-placeholder" class="media-content-placeholder media-Disquscdn " style="height: 167px;"><a href="#" class="media-force-load" data-action="force-load"><i class="icon-images"></i></a>
</div>
</div></p><p><b>NOTES:</b><br>•	Ignoring the operation of VLAN ID 1  (Native VLAN) for now. <br>•	Under this setup Machine 'A' will receive only packets for VLAN ID 101 via TRUNK 'A'.</p><p><b>EXPECTED OPERATION: </b><br>•
	I would expect that only the Multicast Receiver Thread for ens35u1.101 
would see the packets since they are tagged with VLAN ID 101 and that 
ens35u1.102 would not see them because of their  VLAN ID does not match 
its interfaces VLAN ID of 102.</p><p><b>ACTUAL OPERATION:</b><br>•	I 
verified the Multicast Receiver Thread for ens35u1.101 is receiving 
packets tagged with VLAN ID 101 which is what I would expect. However, I
 also see the Multicast Receiver Thread for ens35u1.102 is also 
receiving packets tagged with VLAN ID 101?</p><p><b>TCPDUMP</b><br>I tried to capture ingress packets using the following commands at the three different interfaces on Centos Machine 'A'.</p><p><b>Capture Interface: </b>       ens35u1       <br><b>Tcpdump Command: </b>  sudo tcpdump -nnei ens35u1         -vvv   <br><b>Data Captured: </b><br>•	Packets show the correct Remote IP Address for eth.101 on Centos 7 Machine ‘B’<br>•	Packets have the correct VLAN TAG = 101</p><p><b>Capture Interface:   </b>     ens35u1.101      <br><b>Tcpdump Command:  </b> sudo tcpdump -nnei ens35u1.101         -vvv   <br><b>Data Captured: </b><br>•	Packets show the correct Remote IP Address for eth.101 on Centos 7 Machine ‘B’<br>•
	Packets do not have a  VLAN TAG on them. Not sure if this is valid or 
not, I read that not seeing a VLAN Tag may be a result of the driver or 
the way tcpdump works? <br>•	The Multicast Receiver Threads on each VLAN see the packets from the Remote IP Address for eth.101 on Centos 7 Machine ‘B’</p><p><b>Capture Interface:  </b>      ens35u1.102     <br><b>Tcpdump Command:</b>   sudo tcpdump -nnei ens35u1.102        -vvv   <br><b>Data Captured: </b><br>•
	No packets from the Remote IP Address for eth.101 on Centos 7 Machine 
‘B’ even though the Multicast Receiver Threads on each VLAN see the 
packets from the Remote IP Address for eth.101 on Centos 7 Machine ‘B’</p><p><b>Tcpdump Questions:</b><br>•	Seems like ens35u1 receives the packet with the correct VLAN Tag 101 but the VLAN interfaces may not be seeing the VLAN Tag?<br>•
	Could the ens35u1 be stripping off the VLAN Tag before sending it onto 
the VLAN interfaces and the VLANs treat it like untagged Native packets?
 <br>•   Not sure how ens35u1.102 Multicast Thread is receiving the 
packets since I don't see them with tcpdump. Yet the thread shows them.</p><p><b>CONCLUSION AND ORIGINAL QUESTION? </b><br>•
	This leads to my initial question, "Does a VLAN interface filter the 
ingress (received) packets for the VLAN ID that matches the VLAN ID of 
the interface?<br>•	From what I am seeing, it seems like having a VLAN 
Interface only means that egress (transmit) packets sent from that 
interface will be tagged with the VLAN ID tag of that interface,  and 
that interface does not filter any receiving packets based on its 
configured VLAN ID?<br>•	The only other thing I can think of is that 
since the Receiver Thread is listening for the Multicast traffic on that
 port 12345, it takes precedence over the VLAN ID and effectively 
ignores the VLAN ID? In other words, if the VLAN interface sees a 
multicast packet for a port it has joined does it ignore the VLAN ID? <br>•	Is it possible to check the received packet for a VLAN Tag using java code? <br>•	Should I use a bridge between ens35u1  and the VLANs so it can filter the VLAN Tags and forward appropriately?</p><p>I would like to get the VLAN interfaces to filter on VLAN ID they are configured for so:<br>•	VLAN Interface ens35u1.101 only receives packets tagged with VLAN ID 101, <br>•	and VLAN Interface ens35u1.102 only receives packets tagged with VLAN ID 102.</p><p>Should my approach work, or is there another way to filter on a VLAN ID Tag in ingress packets?<br>Any idea why the VLAN are not filtering based on their configuration? <br>Any suggestions/ideas or feedback would be greatly appreciated. <br>Thanks</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-5215970578" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/2e9gcnm" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/2e9gcnm"></li></ul></li><li class="realtime" data-role="realtime-notification:5215970578"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-5215970578-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-5140200734"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="5140200734"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/shiboham/" data-action="profile" data-tab="" data-username="shiboham" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="210329760" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/shiboham/" data-action="profile" data-tab="" data-username="shiboham" target="_blank" rel="noopener noreferrer">Prabesh</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-5140200734" data-role="relative-time" class="time-ago" title="Friday, November 6, 2020 5:42 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great. I wanted one thing, but this is godfather of that one thing I was looking for. Cool.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-5140200734" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/2d0cc9q" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/2d0cc9q"></li></ul></li><li class="realtime" data-role="realtime-notification:5140200734"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-5140200734-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-5121084769"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="5121084769"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_BLqycjAGsm/" data-action="profile" data-tab="" data-username="disqus_BLqycjAGsm" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="358379806" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_BLqycjAGsm/" data-action="profile" data-tab="" data-username="disqus_BLqycjAGsm" target="_blank" rel="noopener noreferrer">郭奕新</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-5121084769" data-role="relative-time" class="time-ago" title="Thursday, October 22, 2020 7:16 PM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you for the sharing.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-5121084769" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/2coymap" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/2coymap"></li></ul></li><li class="realtime" data-role="realtime-notification:5121084769"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-5121084769-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li><li class="post" id="post-4171678768"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4171678768"><li class="post-menu-item collapse"><a href="#" data-action="collapse" title="Collapse" name="Collapse"><span>−</span></a></li><li class="post-menu-item expand"><a href="#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/disqus_ZCXwfotV2t/" data-action="profile" data-tab="" data-username="disqus_ZCXwfotV2t" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="62319342" src="a_data_003/avatar92.jpg" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_ZCXwfotV2t/" data-action="profile" data-tab="" data-username="disqus_ZCXwfotV2t" target="_blank" rel="noopener noreferrer">John Matthew</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true">•</span> <a href="https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking#comment-4171678768" data-role="relative-time" class="time-ago" title="Wednesday, October 31, 2018 9:22 AM">4 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you for this, it was very helpful</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true">•</li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true">•</li><li id="comment__share-4171678768" class="comment__share"><a class="toggle" href="#" data-action="expand-share"><span class="text">Share ›</span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter share__button-container"><button class="share__button icon icon-twitter" data-action="share:twitter" aria-label="Share comment on Twitter"></button></li><li class="facebook share__button-container"><button class="share__button icon icon-facebook" data-action="share:facebook" aria-label="Share comment on Facebook"></button></li></div><li class="link share__button-container"><button class="share__button icon icon-link" value="http://disq.us/p/1wzpjxs" name="Link" title="Click to copy post link" data-action="copy-link" aria-label="Copy link to comment"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly="readonly" value="http://disq.us/p/1wzpjxs"></li></ul></li><li class="realtime" data-role="realtime-notification:4171678768"><span style="display: none;" class="realtime-replies"></span><a style="display: none;" href="#" class="realtime-button"></a></li></menu></footer></div><div class="moderate-form blacklist-form" data-role="blacklist-form"></div><div class="moderate-form flag-form" data-role="flagging-form"></div><div class="badges-form" data-role="badges-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4171678768-show-children" data-action="show-children" href="#">Show more replies</a></div></div></li></ul><div class="load-more" data-role="more" style="display: none;"><a href="#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"></div><footer id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><div><div class="disqus-footer"><ul class="disqus-footer__list"><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><i aria-hidden="true" class="icon icon-checkmark"></i><span id="thread-subscribe-text-default" class="clip">Subscribe</span><span id="thread-subscribe-text-subscribed" class="clip hidden">Subscribed</span></a></div></li><li class="privacy disqus-footer__item"><a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link" title="Privacy"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip">Privacy</span></a></li><li class="do-not-sell disqus-footer__item"><a href="https://disqus.com/data-sharing-settings/" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-warning"></i><span class="clip">Do Not Sell My Data</span></a></li></ul><span class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></span></div></div></footer></div></div></div></div><iframe id="ssIFrame_google" sandbox="allow-scripts allow-same-origin allow-storage-access-by-user-activation" style="position: absolute; width: 1px; height: 1px; inset: -9999px; display: none;" aria-hidden="true" frame-border="0" src="a_data_003/iframe.html"></iframe><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div></body></html>